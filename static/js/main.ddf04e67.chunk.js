(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=(n(16),n(2)),s=n(3),l=n(5),d=n(4),u=n(6),k=n(1),h=n(9);var v=function(e){var t={height:e.size+"%",width:e.size+"%",left:e.location.x+"%",top:e.location.y+"%"};return!0===e.head?o.a.createElement("div",{className:"SnakeHead",style:t}):o.a.createElement("div",{className:"SnakeBody",style:t})};var m=function(e){var t={width:e.size+"%",height:e.size+"%",left:e.foodLocation.x+"%",top:e.foodLocation.y+"%"};return o.a.createElement("div",{className:"Food",style:t})};var y=function(e){var t,n=window.localStorage,a=n.getItem("bestScore"),r=!1;return a?parseInt(e.currentScore,10)>parseInt(a,10)&&(t=e.currentScore,n.setItem("bestScore",t),r=!0):n.setItem("bestScore",e.currentScore),o.a.createElement("div",{className:"best-score"},r?"Congrats!, Your New":"Beat the"," Best Score",o.a.createElement("br",null),n.getItem("bestScore"))};var f=function(e){var t=e.snakeLength-e.initSnakeLength;return o.a.createElement("div",null,o.a.createElement("div",{className:"current-score"},"Current Score",o.a.createElement("br",null),t),!!e.gameOver&&o.a.createElement(y,{currentScore:t}))},S=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).snakeBlockSize=parseInt(n.props.size,10);var a=50-50%n.snakeBlockSize,o=[{x:a-n.snakeBlockSize,y:a},{x:a-2*n.snakeBlockSize,y:a},{x:a-3*n.snakeBlockSize,y:a}];return n.initSnakeLength=o.length,n.state={snakeBody:o,currentDir:n.props.direction,gameOver:!1},n.state.foodLocation=n.getNewLocation(),n.moveSnake=n.moveSnake.bind(Object(k.a)(Object(k.a)(n))),n.checkFood=n.checkFood.bind(Object(k.a)(Object(k.a)(n))),n.moveSnakeForward=n.moveSnakeForward.bind(Object(k.a)(Object(k.a)(n))),n.onSameLocationRun=n.onSameLocationRun.bind(Object(k.a)(Object(k.a)(n))),n.die=n.die.bind(Object(k.a)(Object(k.a)(n))),n.eatItself=n.eatItself.bind(Object(k.a)(Object(k.a)(n))),n.dropFood=n.dropFood.bind(Object(k.a)(Object(k.a)(n))),n.getNewLocation=n.getNewLocation.bind(Object(k.a)(Object(k.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mover=setInterval(function(){e.moveSnake(e.props.direction)},100)}},{key:"getNewLocation",value:function(){var e=parseInt(100*Math.random(),10);e-=e%this.snakeBlockSize;var t=parseInt(100*Math.random(),10);t-=t%this.snakeBlockSize;for(var n=0;n<this.state.snakeBody.length;n+=1){var a=this.state.snakeBody[n];a.x===e&&a.y===t&&(e=parseInt(100*Math.random(),10),e-=e%this.snakeBlockSize,t=parseInt(100*Math.random(),10),t-=t%this.snakeBlockSize,n=0,console.log("food overlap detected!"))}return{x:e,y:t}}},{key:"moveSnakeForward",value:function(e,t){var n=this;this.setState(function(a){var o=function(){var e={x:a.snakeBody[0].x,y:a.snakeBody[0].y};return"ArrowRight"===(t=function(e,t){return e==={ArrowRight:"ArrowLeft",ArrowLeft:"ArrowRight",ArrowUp:"ArrowDown",ArrowDown:"ArrowUp"}[t]}(a.currentDir,t)?a.currentDir:t)?e.x+=n.snakeBlockSize:"ArrowLeft"===t?e.x-=n.snakeBlockSize:"ArrowUp"===t?e.y-=n.snakeBlockSize:"ArrowDown"===t&&(e.y+=n.snakeBlockSize),e}();if(n.eatItself(o),o.x+n.snakeBlockSize>100||o.y+n.snakeBlockSize>100||o.x<0||o.y<0)return n.die(),{gameOver:!0};var r={snakeBody:[o].concat(Object(h.a)(a.snakeBody)),currentDir:t};return e||r.snakeBody.pop(),r})}},{key:"moveSnake",value:function(e){var t=this.checkFood();this.moveSnakeForward(t,e)}},{key:"checkFood",value:function(){var e={x:this.state.snakeBody[0].x,y:this.state.snakeBody[0].y};return this.onSameLocationRun(e,this.state.foodLocation,this.dropFood)}},{key:"onSameLocationRun",value:function(e,t,n){var a=e.x,o=e.y,r=t.x,i=t.y;return a===r&&o===i&&(n(),!0)}},{key:"die",value:function(){console.log("Imma ded!"),clearInterval(this.mover),console.trace()}},{key:"eatItself",value:function(e){var t=!0,n=!1,a=void 0;try{for(var o,r=this.state.snakeBody[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value;this.onSameLocationRun(e,i,this.die)}}catch(c){n=!0,a=c}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}}},{key:"dropFood",value:function(){var e=this.getNewLocation();this.setState({foodLocation:e})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.snakeBody.length;t++)e.push(o.a.createElement(v,{size:this.snakeBlockSize,key:t,head:0===t,location:this.state.snakeBody[t]}));return o.a.createElement("div",null,o.a.createElement("div",null,e),o.a.createElement(m,{size:this.snakeBlockSize,foodLocation:this.state.foodLocation}),o.a.createElement(f,{gameOver:this.state.gameOver,snakeLength:this.state.snakeBody.length,initSnakeLength:this.initSnakeLength}))}}]),t}(o.a.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).sizes={platform:n.computePlayingField(window.innerHeight,window.innerWidth),snake:2},n.state={direction:"ArrowRight"},n.computePlayingField=n.computePlayingField.bind(Object(k.a)(Object(k.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"computePlayingField",value:function(e,t){var n,a,o,r,i=Math.min(e,t),c=Math.max(e,t);return i===e?(o=c/2-(n=.6*i)/2,r=i/2-(a=n)/2):(o=i/2-(n=a=.6*i)/2,r=c/2-a/2),{top:r,left:o,width:n,height:a}}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",function(t){e.setState(function(e){return{direction:t.key}})})}},{key:"render",value:function(){return o.a.createElement("div",{tabIndex:"1",style:this.sizes.platform,className:"Platform"},o.a.createElement(S,{size:this.sizes.snake,direction:this.state.direction}))}}]),t}(o.a.Component);i.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.ddf04e67.chunk.js.map